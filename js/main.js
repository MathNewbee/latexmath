var Util={arrayToMap:function(e,t){var i,r={};for(i in e){var n=e[i];r[n]=void 0!==t?t:n}return r}},DoList={isInit:!1,doList:[],undoList:[],init:function(){1!=this.isInit&&(this.isInit=!0)},pushDoList:function(e,t){var i;!1===t||t<0||(i="",0<this.doList.length&&(i=this.doList[this.doList.length-1].content),i!=e&&this.doList.push({content:e,labelPos:t}))},pushUndoList:function(e,t){var i;!1===t||t<0||(i="",0<this.undoList.length&&(i=this.undoList[this.undoList.length-1].content),i!=e&&this.undoList.push({content:e,labelPos:t}))},popDoList:function(){var e={content:"",labelPos:0};if(this.doList.length<=0)return e;var t=this.doList.pop();return this.pushUndoList(t.content,t.labelPos),this.doList.length<=0?e:this.doList[this.doList.length-1]},popUndoList:function(){return!(this.undoList.length<=0)&&this.undoList.pop()},clearUnDolist:function(){this.undoList=[]}},tipMap=[["left","left",""],["right","right",""],["quad","quad","\\quad"],["qquad","qquad","\\qquad"],["mathit","mathit",""],["unicode","unicode{x}","",-2],["big","big",""],["Big","Big",""],["bigg","bigg",""],["Bigg","Bigg",""],["bigl","bigl",""],["Bigl","Bigl",""],["biggl","biggl",""],["Biggl","Biggl",""],["Biggr","Biggr",""],["biggr","biggr",""],["Bigr","Bigr",""],["bigr","bigr",""],["alpha","alpha","\\alpha"],["beta","beta","\\beta"],["gamma","gamma","\\gamma"],["delta","delta","\\delta"],["nabla","nabla","\\nabla"],["epsilon","epsilon","\\epsilon"],["varepsilon","varepsilon","\\varepsilon"],["zeta","zeta","\\zeta"],["eta","eta","\\eta"],["theta","theta","\\theta"],["vartheta","vartheta","\\vartheta"],["iota","iota","\\iota"],["kappa","kappa","\\kappa"],["lambda","lambda","\\lambda"],["mu","mu","\\mu"],["nu","nu","\\nu"],["xi","xi","\\xi"],["pi","pi","\\pi"],["varpi","varpi","\\varpi"],["rho","rho","\\rho"],["varrho","varrho","\\varrho"],["sigma","sigma","\\sigma"],["varsigma","varsigma","\\varsigma"],["tau","tau","\\tau"],["upsilon","upsilon","\\upsilon"],["phi","phi","\\phi"],["varphi","varphi","\\varphi"],["chi","chi","\\chi"],["psi","psi","\\psi"],["omega","omega","\\omega"],["Gamma","Gamma","\\Gamma"],["Delta","Delta","\\Delta"],["Theta","Theta","\\Theta"],["Lambda","Lambda","\\Lambda"],["Xi","Xi","\\Xi"],["Pi","Pi","\\Pi"],["Sigma","Sigma","\\Sigma"],["Upsilon","Upsilon","\\Upsilon"],["Phi","Phi","\\Phi"],["Psi","Psi","\\Psi"],["Omega","Omega","\\Omega"],["aleph","aleph","\\aleph"],["beth","beth","\\beth"],["gimel","gimel","\\gimel"],["daleth","daleth","\\daleth"],["times","times","\\times"],["div","div","\\div"],["pm","pm","\\pm"],["mp","mp","\\mp"],["triangleleft","triangleleft","\\triangleleft"],["triangleright","triangleright","\\triangleright"],["cdot","cdot","\\cdot"],["setminus","setminus","\\setminus"],["star","star","\\star"],["ast","ast","\\ast"],["circ","circ","\\circ"],["bullet","bullet","\\bullet"],["oplus","oplus","\\oplus"],["ominus","ominus","\\ominus"],["odot","odot","\\odot"],["oslash","oslash","\\oslash"],["otimes","otimes","\\otimes"],["bigtriangleup","bigtriangleup","\\bigtriangleup"],["lhd","lhd","\\lhd"],["rhd","rhd","\\rhd"],["unlhd","unlhd","\\unlhd"],["unrhd","unrhd","\\unrhd"],["amalg","amalg","\\amalg"],["dagger","dagger","\\dagger"],["ne","ne","\\ne"],["neq","neq","\\neq"],["equiv","equiv","\\equiv"],["notequiv","not\\equiv","\\not\\equiv"],["doteq","doteq","\\doteq"],["doteqdot","doteqdot","\\doteqdot"],["underset","underset{}{}","\\underset{u}{\\Box}",-4],["overset","overset{}{}","\\overset{u}{\\Box}",-4],["sim","sim","\\sim"],["nsim","nsim","\\nsim"],["backsim","backsim","\\backsim"],["thicksim","thicksim","\\thicksim"],["simeq","simeq","\\simeq"],["backsimeq","backsimeq","\\backsimeq"],["eqsim","eqsim","\\eqsim"],["cong","cong","\\cong"],["ncong","ncong","\\ncong"],["approx","approx","\\approx"],["thickapprox","thickapprox","\\thickapprox"],["approxeq","approxeq","\\approxeq"],["asymp","asymp","\\asymp"],["propto","propto","\\propto"],["varpropto","varpropto","\\varpropto"],["lt","lt","\\lt"],["nless","nless","\\nless"],["ll","ll","\\ll"],["notll","not\\ll","\\not\\ll"],["lll","lll","\\lll"],["notlll","not\\lll","\\not\\lll"],["lessdot","lessdot","\\lessdot"],["gt","gt","\\gt"],["ngtr","ngtr","\\ngtr"],["gg","gg","\\gg"],["notgg","not\\gg","\\not\\gg"],["ggg","ggg","\\ggg"],["notggg","not\\ggg","\\not\\ggg"],["gtrdot","gtrdot","\\gtrdot"],["le","le","\\le"],["leq","leq","\\leq"],["lneq","lneq","\\lneq"],["leqq","leqq","\\leqq"],["nleq","nleq","\\nleq"],["nleqq","nleqq","\\nleqq"],["lneqq","lneqq","\\lneqq"],["ge","ge","\\ge"],["geq","geq","\\geq"],["gneq","gneq","\\gneq"],["geqq","geqq","\\geqq"],["ngeq","ngeq","\\ngeq"],["gneqq","gneqq","\\gneqq"],["gvertneqq","gvertneqq","\\gvertneqq"],["lessgtr","lessgtr","\\lessgtr"],["lesseqgtr","lesseqgtr","\\lesseqgtr"],["lesseqqgtr","lesseqqgtr","\\lesseqqgtr"],["gtrless","gtrless","\\gtrless"],["gtreqless","gtreqless","\\gtreqless"],["leqslant","leqslant","\\leqslant"],["nleqslant","nleqslant","\\nleqslant"],["eqslantless","eqslantless","\\eqslantless"],["geqslant","geqslant","\\geqslant"],["ngeqslant","ngeqslant","\\ngeqslant"],["eqslantgtr","eqslantgtr","\\eqslantgtr"],["lesssim","lesssim","\\lesssim"],["lnsim","lnsim","\\lnsim"],["lessapprox","lessapprox","\\lessapprox"],["lnapprox","lnapprox","\\lnapprox"],["gtrsim","gtrsim","\\gtrsim"],["gnsim","gnsim","\\gnsim"],["gtrapprox","gtrapprox","\\gtrapprox"],["gnapprox","gnapprox","\\gnapprox"],["prec","prec","\\prec"],["nprec","nprec","\\nprec"],["preceq","preceq","\\preceq"],["npreceq","npreceq","\\npreceq"],["precneqq","precneqq","\\precneqq"],["succ","succ","\\succ"],["nsucc","nsucc","\\nsucc"],["succeq","succeq","\\succeq"],["nsucceq","nsucceq","\\nsucceq"],["succneqq","succneqq","\\succneqq"],["preccurlyeq","preccurlyeq","\\preccurlyeq"],["curlyeqprec","curlyeqprec","\\curlyeqprec"],["succcurlyeq","succcurlyeq","\\succcurlyeq"],["curlyeqsucc","curlyeqsucc","\\curlyeqsucc"],["precsim","precsim","\\precsim"],["precnsim","precnsim","\\precnsim"],["precapprox","precapprox","\\precapprox"],["precnapprox","precnapprox","\\precnapprox"],["succsim","succsim","\\succsim"],["succnsim","succnsim","\\succnsim"],["succapprox","succapprox","\\succapprox"],["succnapprox","succnapprox","\\succnapprox"],["parallel","parallel","\\parallel"],["nparallel","nparallel","\\nparallel"],["shortparallel","shortparallel","\\shortparallel"],["nshortparallel","nshortparallel","\\nshortparallel"],["perp","perp","\\perp"],["angle","angle","\\angle"],["sphericalangle","sphericalangle","\\sphericalangle"],["measuredangle","measuredangle","\\measuredangle"],["Box","Box","\\Box"],["blacksquare","blacksquare","\\blacksquare"],["diamond","diamond","\\diamond"],["Diamond","Diamond","\\Diamond"],["lozenge","lozenge","\\lozenge"],["blacklozenge","blacklozenge","\\blacklozenge"],["bigstar","bigstar","\\bigstar"],["bigcirc","bigcirc","\\bigcirc"],["triangle","triangle","\\triangle"],["bigtriangledown","bigtriangledown","\\bigtriangledown"],["vartriangle","vartriangle","\\vartriangle"],["triangledown","triangledown","\\triangledown"],["blacktriangle","blacktriangle","\\blacktriangle"],["blacktriangledown","blacktriangledown","\\blacktriangledown"],["blacktriangleleft","blacktriangleleft","\\blacktriangleleft"],["blacktriangleright","blacktriangleright","\\blacktriangleright"],["forall","forall","\\forall"],["exists","exists","\\exists"],["nexists","nexists","\\nexists"],["therefore","therefore","\\therefore"],["because","because","\\because"],["And","And","\\And"],["lor","lor","\\lor"],["vee","vee","\\vee"],["curlyvee","curlyvee","\\curlyvee"],["bigvee","bigvee","\\bigvee"],["land","land","\\land"],["wedge","wedge","\\wedge"],["curlywedge","curlywedge","\\curlywedge"],["bigwedge","bigwedge","\\bigwedge"],["bar","bar{}","\\bar{q}",-2],["overline","overline{}","\\overline{abc}",-2],["lnot","lnot","\\lnot"],["notoperatorname","not\\operatorname{}","\\not\\operatorname{R}",-2],["bot","bot","\\bot"],["top","top","\\top"],["vdash","vdash","\\vdash"],["dashv","dashv","\\dashv"],["Vdash","Vdash","\\Vdash"],["models","models","\\models"],["Vvdash","Vvdash","\\Vvdash"],["nvdash","nvdash","\\nvdash"],["nVdash","nVdash","\\nVdash"],["nvDash","nvDash","\\nvDash"],["nVDash","nVDash","\\nVDash"],["ulcorner","ulcorner","\\ulcorner"],["urcorner","urcorner","\\urcorner"],["llcorner","llcorner","\\llcorner"],["lrcorner","lrcorner","\\lrcorner"],["emptyset","emptyset","\\emptyset"],["varnothing","varnothing","\\varnothing"],["in","in","\\in"],["notin","notin","\\notin"],["ni","ni","\\ni"],["cap","cap","\\cap"],["Cap","Cap","\\Cap"],["sqcap","sqcap","\\sqcap"],["bigcap","bigcap","\\bigcap"],["cup","cup","\\cup"],["Cup","Cup","\\Cup"],["sqcup","sqcup","\\sqcup"],["bigcup","bigcup","\\bigcup"],["bigsqcup","bigsqcup","\\bigsqcup"],["uplus","uplus","\\uplus"],["biguplus","biguplus","\\biguplus"],["smallsetminus","smallsetminus","\\smallsetminus"],["subset","subset","\\subset"],["Subset","Subset","\\Subset"],["sqsubset","sqsubset","\\sqsubset"],["supset","supset","\\supset"],["Supset","Supset","\\Supset"],["sqsupset","sqsupset","\\sqsupset"],["subseteq","subseteq","\\subseteq"],["nsubseteq","nsubseteq","\\nsubseteq"],["subsetneq","subsetneq","\\subsetneq"],["varsubsetneq","varsubsetneq","\\varsubsetneq"],["sqsubseteq","sqsubseteq","\\sqsubseteq"],["supseteq","supseteq","\\supseteq"],["nsupseteq","nsupseteq","\\nsupseteq"],["supsetneq","supsetneq","\\supsetneq"],["varsupsetneq","varsupsetneq","\\varsupsetneq"],["sqsupseteq","sqsupseteq","\\sqsupseteq"],["subseteqq","subseteqq","\\subseteqq"],["nsubseteqq","nsubseteqq","\\nsubseteqq"],["subsetneqq","subsetneqq","\\subsetneqq"],["varsubsetneqq","varsubsetneqq","\\varsubsetneqq"],["supseteqq","supseteqq","\\supseteqq"],["nsupseteqq","nsupseteqq","\\nsupseteqq"],["supsetneqq","supsetneqq","\\supsetneqq"],["varsupsetneqq","varsupsetneqq","\\varsupsetneqq"],["Rrightarrow","Rrightarrow","\\Rrightarrow"],["Lleftarrow","Lleftarrow","\\Lleftarrow"],["Rightarrow","Rightarrow","\\Rightarrow"],["nRightarrow","nRightarrow","\\nRightarrow"],["Longrightarrow","Longrightarrow","\\Longrightarrow"],["implies","implies","\\implies"],["Leftarrow","Leftarrow","\\Leftarrow"],["nLeftarrow","nLeftarrow","\\nLeftarrow"],["Longleftarrow","Longleftarrow","\\Longleftarrow"],["Leftrightarrow","Leftrightarrow","\\Leftrightarrow"],["nLeftrightarrow","nLeftrightarrow","\\nLeftrightarrow"],["Longleftrightarrow","Longleftrightarrow","\\Longleftrightarrow"],["iff","iff","\\iff"],["Uparrow","Uparrow","\\Uparrow"],["Downarrow","Downarrow","\\Downarrow"],["Updownarrow","Updownarrow","\\Updownarrow"],["rightarrow","rightarrow","\\rightarrow"],["to","to","\\to"],["nrightarrow","nrightarrow","\\nrightarrow"],["longrightarrow","longrightarrow","\\longrightarrow"],["leftarrow","leftarrow","\\leftarrow"],["gets","gets","\\gets"],["nleftarrow","nleftarrow","\\nleftarrow"],["longleftarrow","longleftarrow","\\longleftarrow"],["leftrightarrow","leftrightarrow","\\leftrightarrow"],["nleftrightarrow","nleftrightarrow","\\nleftrightarrow"],["longleftrightarrow","longleftrightarrow","\\longleftrightarrow"],["uparrow","uparrow","\\uparrow"],["downarrow","downarrow","\\downarrow"],["updownarrow","updownarrow","\\updownarrow"],["nearrow","nearrow","\\nearrow"],["swarrow","swarrow","\\swarrow"],["nwarrow","nwarrow","\\nwarrow"],["searrow","searrow","\\searrow"],["mapsto","mapsto","\\mapsto"],["longmapsto","longmapsto","\\longmapsto"],["rightharpoonup","rightharpoonup","\\rightharpoonup"],["rightharpoondown","rightharpoondown","\\rightharpoondown"],["leftharpoonup","leftharpoonup","\\leftharpoonup"],["leftharpoondown","leftharpoondown","\\leftharpoondown"],["upharpoonleft","upharpoonleft","\\upharpoonleft"],["upharpoonright","upharpoonright","\\upharpoonright"],["downharpoonleft","downharpoonleft","\\downharpoonleft"],["downharpoonright","downharpoonright","\\downharpoonright"],["rightleftharpoons","rightleftharpoons","\\rightleftharpoons"],["leftrightharpoons","leftrightharpoons","\\leftrightharpoons"],["curvearrowleft","curvearrowleft","\\curvearrowleft"],["circlearrowleft","circlearrowleft","\\circlearrowleft"],["Lsh","Lsh","\\Lsh"],["upuparrows","upuparrows","\\upuparrows"],["rightrightarrows","rightrightarrows","\\rightrightarrows"],["rightleftarrows","rightleftarrows","\\rightleftarrows"],["rightarrowtail","rightarrowtail","\\rightarrowtail"],["looparrowright","looparrowright","\\looparrowright"],["curvearrowright","curvearrowright","\\curvearrowright"],["circlearrowright","circlearrowright","\\circlearrowright"],["Rsh","Rsh","\\Rsh"],["downdownarrows","downdownarrows","\\downdownarrows"],["leftleftarrows","leftleftarrows","\\leftleftarrows"],["leftrightarrows","leftrightarrows","\\leftrightarrows"],["leftarrowtail","leftarrowtail","\\leftarrowtail"],["looparrowleft","looparrowleft","\\looparrowleft"],["hookrightarrow","hookrightarrow","\\hookrightarrow"],["hookleftarrow","hookleftarrow","\\hookleftarrow"],["multimap","multimap","\\multimap"],["leftrightsquigarrow","leftrightsquigarrow","\\leftrightsquigarrow"],["rightsquigarrow","rightsquigarrow","\\rightsquigarrow"],["twoheadrightarrow","twoheadrightarrow","\\twoheadrightarrow"],["twoheadleftarrow","twoheadleftarrow","\\twoheadleftarrow"],["infty","infty","\\infty"],["complement","complement","\\complement"],["backepsilon","backepsilon","\\backepsilon"],["eth","eth","\\eth"],["Finv","Finv","\\Finv"],["hbar","hbar","\\hbar"],["Im","Im","\\Im"],["imath","imath","\\imath"],["jmath","jmath","\\jmath"],["Bbbk","Bbbk","\\Bbbk"],["ell","ell","\\ell"],["mho","mho","\\mho"],["wp","wp","\\wp"],["Re","Re","\\Re"],["circledS","circledS","\\circledS"],["ddagger","ddagger","\\ddagger"],["ldots","ldots","\\ldots"],["cdots","cdots","\\cdots"],["smile","smile","\\smile"],["frown","frown","\\frown"],["wr","wr","\\wr"],["diamondsuit","diamondsuit","\\diamondsuit"],["heartsuit","heartsuit","\\heartsuit"],["clubsuit","clubsuit","\\clubsuit"],["spadesuit","spadesuit","\\spadesuit"],["Game","Game","\\Game"],["flat","flat","\\flat"],["natural","natural","\\natural"],["sharp","sharp","\\sharp"],["diagup","diagup","\\diagup"],["diagdown","diagdown","\\diagdown"],["centerdot","centerdot","\\centerdot"],["ltimes","ltimes","\\ltimes"],["rtimes","rtimes","\\rtimes"],["leftthreetimes","leftthreetimes","\\leftthreetimes"],["rightthreetimes","rightthreetimes","\\rightthreetimes"],["eqcirc","eqcirc","\\eqcirc"],["circeq","circeq","\\circeq"],["triangleq","triangleq","\\triangleq"],["bumpeq","bumpeq","\\bumpeq"],["Bumpeq","Bumpeq","\\Bumpeq"],["risingdotseq","risingdotseq","\\risingdotseq"],["fallingdotseq","fallingdotseq","\\fallingdotseq"],["intercal","intercal","\\intercal"],["barwedge","barwedge","\\barwedge"],["veebar","veebar","\\veebar"],["doublebarwedge","doublebarwedge","\\doublebarwedge"],["between","between","\\between"],["pitchfork","pitchfork","\\pitchfork"],["vartriangleleft","vartriangleleft","\\vartriangleleft"],["ntriangleleft","ntriangleleft","\\ntriangleleft"],["vartriangleright","vartriangleright","\\vartriangleright"],["ntriangleright","ntriangleright","\\ntriangleright"],["trianglelefteq","trianglelefteq","\\trianglelefteq"],["ntrianglelefteq","ntrianglelefteq","\\ntrianglelefteq"],["trianglerighteq","trianglerighteq","\\trianglerighteq"],["ntrianglerighteq","ntrianglerighteq","\\ntrianglerighteq"],["frac","frac{}{}","\\frac{ \\Box }{ \\Box}",-4,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["tfrac","tfrac{}{}","\\tfrac{ \\Box }{ \\Box}",-4,{zoom:"90%",position:"relative",top:"2px",paddingRight:"0px"}],["dfrac","dfrac{}{}","\\dfrac{ \\Box }{ \\Box}",-4,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["cfrac","cfrac{}{}","\\cfrac{ \\Box }{ \\Box}",-4,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["over","over "," \\small \\Box \\over \\small \\Box",-6,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["cancel","cancel{}","\\cancel{x}",-2],["exp","exp","\\exp"],["ln","ln","\\ln"],["lg","lg","\\lg"],["log","log","\\log"],["sin","sin","\\sin"],["cos","cos","\\cos"],["tan","tan","\\tan"],["cot","cot","\\cot"],["sec","sec","\\sec"],["csc","csc","\\csc"],["arcsin","arcsin","\\arcsin"],["arccos","arccos","\\arccos"],["arctan","arctan","\\arctan"],["operatorname","operatorname{}",""],["sinh","sinh","\\sinh"],["cosh","cosh","\\cosh"],["tanh","tanh","\\tanh"],["coth","coth","\\coth"],["min","min","\\min"],["max","max","\\max"],["surd","surd","\\surd"],["sqrt","sqrt{}","\\sqrt{\\Box}",-2],["sqrt","sqrt[]{}","\\sqrt[n]{\\Box}",-4],["mathrm","mathrm{}","\\mathrm{A}",-2],["lim","lim_{ \\to }","\\lim_{\\Box \\to \\Box}",-7],["lim","lim\\nolimits_{ \\to }","\\lim\\nolimits_{\\Box \\to \\Box}",-7],["sup","sup","\\sup"],["inf","inf","\\inf"],["dim","dim","\\dim"],["deg","deg","\\deg"],["det","det","\\det"],["ker","ker","\\ker"],["Pr","Pr","\\Pr"],["hom","hom","\\hom"],["lVert ","lVert  \\lVert ","\\lVert \\Box \\lVert",-8],["int","int\\limits_{  }^{  }","\\int\\limits_{\\Box}^{\\Box}",-8,{zoom:"46%",position:"relative",top:"19px",paddingRight:"16px"}],["int","int_{  }^{  }","\\int_{\\Box}^{\\Box}",-8,{zoom:"62%",position:"relative",top:"11px",paddingRight:"0px"}],["iint","iint\\limits_{  }","\\iint\\limits_{D}",-3,{zoom:"57%",position:"relative",top:"12px",paddingRight:"6px"}],["iiint","iiint\\limits_{  }","\\iiint\\limits_{E}",-3,{zoom:"58%",position:"relative",top:"12px",paddingRight:"-2px"}],["iiiint","iiiint\\limits_{  }","\\iiiint\\limits_{E}",-3,{zoom:"58%",position:"relative",top:"12px",paddingRight:"-2px"}],["oint","oint_{  }","\\oint_{\\Box}",-3,{zoom:"70%",position:"relative",top:"7px",paddingRight:"4px"}],["oint","oint\\limits_{  }","\\oint\\limits_{\\Box}",-3,{zoom:"56%",position:"relative",top:"13px",paddingRight:"14px"}],["oiint","unicode{x222F}","\\unicode{x222F}"],["oiiint","unicode{x2230}","\\unicode{x2230}"],["sum","sum_{}^{}","\\sum_{\\Box}^{\\Box}",-5,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["sum","textstyle \\sum_{}^{}","\\textstyle \\sum_{\\Box}^{\\Box}",-5,{zoom:"85%",position:"relative",top:"3px"}],["prod","prod_{}^{}","\\prod_{a}^{b}",-5,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["prod","textstyle \\prod_{}^{}","\\textstyle \\prod_{a}^{b}",-5],["coprod","coprod_{}^{}","\\coprod_{a}^{b}",-5,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["coprod","textstyle \\coprod_{}^{}","\\textstyle \\coprod_{a}^{b}",-5],["bigcap","bigcap_{}^{}","\\bigcap_{a}^{b}",-5,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["bigcap","textstyle \\bigcap_{}^{}","\\textstyle \\bigcap_{a}^{b}",-5],["bigcup","bigcup_{}^{}","\\bigcup_{a}^{b}",-5,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["bigcup","textstyle \\bigcup_{}^{}","\\textstyle \\bigcup_{a}^{b}",-5],["bigvee","bigvee_{}^{}","\\bigvee_{a}^{b}",-5,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["bigvee","textstyle \\bigvee_{}^{}","\\textstyle \\bigvee_{a}^{b}",-5],["bigwedge","bigwedge_{}^{}","\\bigwedge_{a}^{b}",-5,{zoom:"60%",position:"relative",top:"11px",paddingRight:"10px"}],["bigwedge","textstyle \\bigwedge_{}^{}","\\textstyle \\bigwedge_{a}^{b}",-5],["sideset","sideset{_1^2}{_3^4}X","\\sideset{_1^2}{_3^4}X",-9],["stackrel","stackrel{}{}","\\stackrel{u}{\\Box}",-4],["prime","prime","\\prime"],["dot","dot{}","\\dot{x}",-2],["ddot","ddot{}","\\ddot{x}",-2],["hat","hat{}","\\hat x",-2],["bar","bar{}","\\bar x",-2],["vec","vec{}","\\vec x",-2],["overrightarrow","overrightarrow{}","\\overrightarrow{abc}",-2,{zoom:"90%"}],["overleftarrow","overleftarrow{}","\\overleftarrow{abc}",-2,{zoom:"90%"}],["widehat","widehat{}","\\widehat{abc}",-2,{zoom:"90%"}],["underline","underline{}","\\underline{abc}",-2,{zoom:"90%"}],["overset","overset{\\frown} {}","\\overset{\\frown} {AB}",-2,{zoom:"90%"}],["xleftarrow","xleftarrow{}","\\xleftarrow{abcd}",-2,{zoom:"90%"}],["xrightarrow","xrightarrow{}","\\xrightarrow{abcd}",-2,{zoom:"90%"}],["overbrace","overbrace{}^{}","\\overbrace{\\Box \\Box \\Box}^{n}",-2,{zoom:"70%",position:"relative",top:"7px"}],["underbrace","underbrace{}^{}","\\underbrace{\\Box \\Box \\Box}^{n}",-2,{zoom:"70%",position:"relative",top:"7px"}],["binom","binom{}{}","\\binom{n}{k}",-4,{zoom:"60%",position:"relative",top:"10px"}],["tbinom","tbinom{}{}","\\tbinom{n}{k}",-4,{zoom:"85%",position:"relative",top:"4px",right:"-4px"}],["dbinom","dbinom{}{}","\\dbinom{n}{k}",-4,{zoom:"60%",position:"relative",top:"10px"}],["matrix","begin{matrix}\n   &  \\\\ \n   & \n\\end{matrix}","\\begin{matrix}\nx & y \\\\ \nz & v\n\\end{matrix}",-27,{zoom:"65%",position:"relative",top:"9px"}],["vmatrix","begin{vmatrix}\n   &  \\\\ \n   & \n\\end{vmatrix}","\\begin{vmatrix}\nx & y \\\\ \nz & v\n\\end{vmatrix}",-28,{zoom:"60%",position:"relative",top:"10px",right:"-5px"}],["Vmatrix","begin{Vmatrix}\n   &  \\\\ \n   & \n\\end{Vmatrix}","\\begin{Vmatrix}\nx & y \\\\ \nz & v\n\\end{Vmatrix}",-28,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["bmatrix","begin{bmatrix}\n   &  \\\\ \n   & \n\\end{bmatrix}","\\begin{bmatrix}\nx & y \\\\ \nz & v\n\\end{bmatrix}",-28,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["Bmatrix","begin{Bmatrix}\n   &  \\\\ \n   & \n\\end{Bmatrix}","\\begin{Bmatrix}\nx & y \\\\ \nz & v\n\\end{Bmatrix}",-28,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["pmatrix","begin{pmatrix}\n   &  \\\\ \n   & \n\\end{pmatrix}","\\begin{pmatrix}\nx & y \\\\ \nz & v\n\\end{pmatrix}",-28,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["cases","begin{cases}\n  &  \\\\\n & \n\\end{cases}","\\begin{cases}\ny=x \\\\\n y=x^2 \n\\end{cases}",-20,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["cases","begin{cases}\n    &  \\\\\n    & \n\\end{cases}","\\begin{cases}\nf(x)=x, & x<0 \\\\\n f(x)=x^2+1, & x\\ge 0 \n\\end{cases}",-27,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["align","begin{align}\n    &  \\\\\n    & \n\\end{align}","\\begin{align}\nf(x)= & (a+b)^2 \\\\\n = & a^2+2ab+b^2  \n\\end{align}",-27,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["alignat","begin{alignat}{}\n    &  \\\\\n    & \n\\end{alignat}","\\begin{alignat}{2}\nf(x)= & (a+b)^2 \\\\\n = & a^2+2ab+b^2  \n\\end{alignat}",-27,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["array","begin{array}{|c|c|c|}\n  & & \\\\\n \\hline \n  & &  \\\\\n  & & \n\\end{array}","\\begin{array}{|c|c|c|}\n a & b & c \\\\\n \\hline \n 0 & 0 & 0 \\\\\n  0 & 0 & 0  \n\\end{array}",-45,{zoom:"39%",position:"relative",top:"27px",right:"-5px"}],["array","begin{array}{ccc}\n  & & \\\\\n\\end{array}","\\begin{array}{ccc}\n f(x) & = & (a+b)^2 \\\\\n f(x) & = & a^2+2ab+b^2  \n\\end{array}",-20,{zoom:"39%",position:"relative",top:"27px",right:"-5px"}],["beginmatrix","begin{matrix}\n   &  \\\\ \n   & \n\\end{matrix}","\\begin{matrix}\nx & y \\\\ \nz & v\n\\end{matrix}",-27,{zoom:"65%",position:"relative",top:"9px"}],["beginvmatrix","begin{vmatrix}\n   &  \\\\ \n   & \n\\end{vmatrix}","\\begin{vmatrix}\nx & y \\\\ \nz & v\n\\end{vmatrix}",-28,{zoom:"60%",position:"relative",top:"10px",right:"-5px"}],["beginVmatrix","begin{Vmatrix}\n   &  \\\\ \n   & \n\\end{Vmatrix}","\\begin{Vmatrix}\nx & y \\\\ \nz & v\n\\end{Vmatrix}",-28,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["beginbmatrix","begin{bmatrix}\n   &  \\\\ \n   & \n\\end{bmatrix}","\\begin{bmatrix}\nx & y \\\\ \nz & v\n\\end{bmatrix}",-28,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["beginBmatrix","begin{Bmatrix}\n   &  \\\\ \n   & \n\\end{Bmatrix}","\\begin{Bmatrix}\nx & y \\\\ \nz & v\n\\end{Bmatrix}",-28,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["beginpmatrix","begin{pmatrix}\n   &  \\\\ \n   & \n\\end{pmatrix}","\\begin{pmatrix}\nx & y \\\\ \nz & v\n\\end{pmatrix}",-28,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["begincases","begin{cases}\n  &  \\\\\n  & \n\\end{cases}","\\begin{cases}\ny=x \\\\\n y=x^2 \n\\end{cases}",-24,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["begincases","begin{cases}\n    &  \\\\\n    & \n\\end{cases}","\\begin{cases}\nf(x)=x, & x<0 \\\\\n f(x)=x^2+1, & x\\ge 0 \n\\end{cases}",-27,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["beginalign","begin{align}\n    &  \\\\\n    & \n\\end{align}","\\begin{align}\nf(x)= & (a+b)^2 \\\\\n = & a^2+2ab+b^2  \n\\end{align}",-27,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["beginalignat","begin{alignat}{}\n    &  \\\\\n    & \n\\end{alignat}","\\begin{alignat}{2}\nf(x)= & (a+b)^2 \\\\\n = & a^2+2ab+b^2  \n\\end{alignat}",-29,{zoom:"55%",position:"relative",top:"14px",right:"-5px"}],["beginarray","begin{array}{|c|c|c|}\n  & & \\\\\n \\hline \n  & &  \\\\\n  & & \n\\end{array}","\\begin{array}{|c|c|c|}\n a & b & c \\\\\n \\hline \n 0 & 0 & 0 \\\\\n  0 & 0 & 0  \n\\end{array}",-46,{zoom:"39%",position:"relative",top:"27px",right:"-5px"}],["beginarray","begin{array}{ccc}\n  & & \\\\\n\\end{array}","\\begin{array}{ccc}\n f(x) & = & (a+b)^2 \\\\\n f(x) & = & a^2+2ab+b^2  \n\\end{array}",-20,{zoom:"39%",position:"relative",top:"27px",right:"-5px"}],["lbrack ","lbrack","\\lbrack"],["rbrack ","rbrack","\\rbrack"],["lbrace  ","lbrace","\\lbrace"],["rbrace  ","rbrace","\\rbrace"],["langle   ","langle","\\langle"],["rangle   ","rangle","\\rangle"],["vert","vert","\\vert"],["Vert","Vert","\\Vert"],["lfloor","lfloor","\\lfloor"],["rfloor","rfloor","\\rfloor"],["lceil","lceil","\\lceil"],["rceil","rceil","\\rceil"],["displaylines","displaylines{}","\\displaylines{}",-2],["color","color{}","{\\color{Green}color}",-2],["colorbox","colorbox{}{}","{\\colorbox{Green}{colorbox}}",-4],["bbox","bbox[]{}","{\\bbox[green,2pt]{bbox}}",-4],["definecolor","definecolor{}{RGB}{}","",-9]],Parse={isInit:!(Node=function(){this.type="",this.start=0,this.end=0,this.index=0,this.text="",this.showText=""}),text:"",curTextIndex:0,signList:["~","!","@","#","$","%","^","&","*","_","+","`","-","=",",",";",'"',"'","|","<",",",">",".","?","/"],numList:["0","1","2","3","4","5","6","7","8","9"],letterList:{},bracketMap:{"}":"{","]":"[",")":"("},nodeList:[],init:function(){1!=this.isInit&&(this.signList=Util.arrayToMap(this.signList,!0),this.numList=Util.arrayToMap(this.numList,!0),this.initLetterList(),this.isInit=!0)},parse:function(e){return this.text=e,this.curTextIndex=0,this.buildText()},initLetterList:function(){for(var e=65;e<=90;e++){var t=String.fromCharCode(e);this.letterList[t]=!0}for(e=97;e<=122;e++){t=String.fromCharCode(e);this.letterList[t]=!0}},getCurChar:function(){var e=this.text[this.curTextIndex];return e||!1},advance:function(){this.curTextIndex++},isLeftBracket:function(e){return"{"==e||"["==e||"("==e},isRightBracekt:function(e){return"}"==e||"]"==e||")"==e},isBlank:function(e){return" "==e},isNewLine:function(e){return"\n"==e},isSign:function(e){return!!this.signList[e]},isNum:function(e){return!!this.numList[e]},isLetter:function(e){return!!this.letterList[e]},getNextNode:function(){if(this.text.length<=this.curTextIndex)return!1;var e=this.getCurChar();this.advance();var t=new Node;if("\\"==e)return t.type="backslash",t.start=this.curTextIndex-1,t.end=this.curTextIndex-1,t.text=e,t;if(this.isLeftBracket(e))return t.type="leftbracket",t.start=this.curTextIndex-1,t.end=this.curTextIndex-1,t.text=e,t;if(this.isRightBracekt(e))return t.type="rightbracket",t.start=this.curTextIndex-1,t.end=this.curTextIndex-1,t.text=e,t;if(this.isBlank(e)){t.type="blank",t.start=this.curTextIndex-1,t.end=this.curTextIndex-1,t.text=e;for(var i=this.getCurChar();!1!==i&&this.isBlank(i);)t.text+=" ",t.end=this.curTextIndex,this.advance(),i=this.getCurChar();return t}if(this.isNewLine(e))return t.type="newline",t.start=this.curTextIndex-1,t.end=this.curTextIndex-1,t.text=e,t;if(this.isSign(e))return t.type="sign",t.start=this.curTextIndex-1,t.end=this.curTextIndex-1,t.text=e,t;if(this.isNum(e)){t.type="num",t.start=this.curTextIndex-1,t.end=this.curTextIndex-1,t.text=e;for(i=this.getCurChar();!1!==i&&this.isNum(i);)t.text+=i,t.end=this.curTextIndex,this.advance(),i=this.getCurChar();return t}if(this.isLetter(e)){t.type="token",t.start=this.curTextIndex-1,t.end=this.curTextIndex-1,t.text=e;for(i=this.getCurChar();!1!==i&&this.isLetter(i);)t.text+=i,t.end=this.curTextIndex,this.advance(),i=this.getCurChar();return t}return t.type="character",t.start=this.curTextIndex-1,t.end=this.curTextIndex-1,t.text=e,t},getNodeList:function(){for(var e=[],t=this.getNextNode();!1!==t;)t.index=e.length,e.push(t),t=this.getNextNode();this.nodeList=e},buildText:function(){this.getNodeList(),this.buildBracket(),this.buildBackslash(),this.buildBlock();for(var e="",t=0;t<this.nodeList.length;t++){var i=this.nodeList[t],r="";if("backslash"==i.type)r=1==i.isTokenBackSlash?"token_blackslash":1==i.isBackSlash?"backslash":"not_backslash",i.showText=i.text;else if("leftbracket"==i.type||"rightbracket"==i.type)r=-1==i.bracketLayer?"not_bracket":"bracket"+i.bracketLayer%3,i.showText=i.text;else if("blank"==i.type)for(var n=0;n<i.text.length;n++)i.showText+="&nbsp;";else"newline"==i.type?(i.showText="<br>",t==this.nodeList.length-1&&(i.showText+="&nbsp;")):"sign"==i.type?(r="sign",i.showText=i.text,"<"==i.text?i.showText="&lt;":">"==i.text?i.showText="&gt;":"&"==i.text?i.showText="&amp;":'"'==i.text&&(i.showText="&quot;")):("num"==i.type?r="num":"token"==i.type?r=1==i.isBlockToken?"block_token":"token":"character"==i.type&&(r="character"),i.showText=i.text);i.showText=""==r?"<span>"+i.showText+"</span>":"<span class='"+r+"'>"+i.showText+"</span>",e+=i.showText}return e},buildBracket:function(){for(var e=[],t=0;t<this.nodeList.length;t++){var i,r,n=this.nodeList[t];"leftbracket"!=n.type&&"rightbracket"!=n.type||("leftbracket"!=n.type?0!=e.length?(i=e[e.length-1],r=this.bracketMap[n.text],i.text==r?(n.bracketMapIndex=i.index,n.bracketLayer=e.length-1,i.bracketLayer=e.length-1,i.bracketMapIndex=n.index,e.pop()):(n.bracketMapIndex=-1,n.bracketLayer=-1)):(n.bracketMapIndex=-1,n.bracketLayer=-1):e.push(n))}for(t=0;t<e.length;t++)e[t].bracketMapIndex=-1,e[t].bracketLayer=-1},buildBackslash:function(){for(var e=0;e<this.nodeList.length;e++){var t=this.nodeList[e];"backslash"==t.type&&(e+1<this.nodeList.length&&"backslash"==this.nodeList[e+1].type?(t.isBackSlash=!1,this.nodeList[e+1].isBackSlash=!1,e+=1):t.isBackSlash=!0)}},buildBlock:function(){for(var e=0;e<this.nodeList.length;e++){var t=this.nodeList[e];"token"!=t.type||"begin"!=t.text&&"end"!=t.text||(this.isBlockToken(t.index)?t.isBlockToken=!0:t.isBlockToken=!1)}},isBlockToken:function(e){if(e<=0)return!1;e=this.nodeList[e-1];return"\\"==e.text&&(e.isTokenBackSlash=!0)}},Tip={isInit:!1,curLine:-1,codeTextArea:null,isPressUpDown:!1,lineNum:0,lineHeight:0,showHeight:0,lineScrollHeight:0,isShowTip:!1,init:function(){var t;1!=this.isInit&&(t=this,$("body").on("click",function(){t.hideTip()}),this.codeTextArea=document.getElementById("code"),document.querySelector("#code").addEventListener("keyup",function(e){40!=e.keyCode&&38!=e.keyCode&&(t.checkShowTip(),t.checkHideTip())}),$("#code").on("keydown",function(e){return 9==e.keyCode&&(Main.insertTab(this),Main.onChange(),e.returnValue=!1,e.preventDefault()),0==t.isShowTip||(38==e.keyCode?(t.prevLine(),!1):40==e.keyCode?(t.nextLine(),!1):27!=e.keyCode?13!=e.keyCode||(t.insertSelectedContent(),t.hideTip(),!1):void t.hideTip())}),document.querySelector("#code").addEventListener("click",function(e){t.checkShowTip(),t.checkHideTip(),e.stopPropagation()}),$(".tips").on("mouseover",".tip-line",function(){return 1==t.isPressUpDown?!(t.isPressUpDown=!1):($(".tip-line").removeClass("now"),$(this).addClass("now"),void(t.curLine=$(".tip-line").index(this)))}),$(".tips").on("click",".tip-line",function(e){e.preventDefault(),t.insertSelectedContent(),t.hideTip()}),this.showTipList(tipMap),this.isInit=!0)},getContent:function(e){return tipMap[e]},showTipList:async function(e,t){"string"==typeof t&&(t=t.toLowerCase());var i=[];if("string"==typeof t&&""!=t.trim())for(var r in e)0<=(d=(n=e[r][0]).toLowerCase().indexOf(t))&&i.push({searchWord:n,word:e[r][1],showWord:e[r][2],pos:e[r][3],style:e[r][4],index:d});else for(var r in e){var n=e[r][0];i.push({searchWord:n,word:e[r][1],showWord:e[r][2],pos:e[r][3],style:e[r][4],index:100})}if(0==i.length)return this.hideTip(),!1;i.sort(function(e,t){return e.index!=t.index?e.index-t.index:e.searchWord.length==t.searchWord.length?e.searchWord.toLowerCase().localeCompare(t.searchWord.toLowerCase()):e.searchWord.length-t.searchWord.length}),$(".tips").empty();for(var o=0;o<i.length&&o<50;o++){var n=i[o].searchWord,a=$("#tpl-tip .tip-line").clone(!0);$(".tips").append(a);var s,l,p,c,g=i[o].word,h=i[o].showWord,d=i[o].index,u=i[o].pos,x=i[o].style;99<d?$(a).find(".tip-name").text(n):(s=$("<span></span>"),p=n.substring(0,d),s.text(p),l=$("<span class='token'></span>"),c=n.substring(d,d+t.length),l.text(c),p=$("<span></span>"),c=n.substring(d+t.length),p.text(c),$(a).find(".tip-name").append(s).append(l).append(p)),x&&($(a).find(".tip-img").css(x),$(a).find(".tip-img").attr("test","test")),h&&$(a).find(".tip-img").text("$$"+h+"$$"),u?$(a).attr("pos",u):$(a).attr("pos",0),$(a).attr("searchWord",n),$(a).attr("word",g)}return this.lineNum=$(".tip-line").size()-1,this.lineHeight=$(".tip-line").eq(0).outerHeight(),this.showHeight=$(".tips").outerHeight(),this.lineScrollHeight=((this.lineNum+1)*this.lineHeight-this.showHeight)/this.lineNum,MathJax.typeset([".tips"]),!0},checkShowTip:function(e){this.isShowTip=!1;var t,i=this.getCurrentLabelNodeIndex();return this.isBackSlashPos(i)||this.isCharactorTokenPos(i)?(e||(t=i,!(e="")!==Parse.nodeList[i].isBackSlash?(e=Parse.nodeList[i].text,t=i-1):Parse.nodeList[i+1]&&"token"==Parse.nodeList[i+1].type&&(e=Parse.nodeList[i+1].text),i=$("#show-content span").eq(t).offset().top,t=$("#show-content span").eq(t).offset().left,this.showTip(i,t,e)),this.isShowTip=!0):(this.checkHideTip(),!1)},getCurrentLableNode:function(){var e=this.getCurrentLabelNodeIndex();return e<0?null:Parse.nodeList[e]},getCurrentLabelNodeIndex:function(){var e=this.getCurPosition();if(!1===e)return-1;e--;for(var t=-1,i=0;i<Parse.nodeList.length;i++){var r=Parse.nodeList[i];if(e>=r.start&&e<=r.end){t=i;break}}return t},checkHideTip:function(){!1===this.isShowTip&&this.hideTip()},isBackSlashPos:function(e){return!(e<0)&&(e==Parse.nodeList.length-1&&!0===Parse.nodeList[e].isBackSlash||!(!0!==Parse.nodeList[e].isBackSlash||!Parse.nodeList[e+1]||"blank"!==Parse.nodeList[e+1].type&&"token"!==Parse.nodeList[e+1].type))},isCharactorTokenPos:function(e){return!(e<=0)&&("token"===Parse.nodeList[e].type&&!0===Parse.nodeList[e-1].isBackSlash)},setCurLineClose:function(){this.curLine=-1,this.isPressUpDown=!1},setCurLineOpen:function(){this.curLine=0,this.isPressUpDown=!0},prevLine:function(){this.curLine--,this.curLine<=0&&(this.curLine=0),$(".tip-line").removeClass("now"),$(".tip-line").eq(this.curLine).addClass("now"),this.autoScroll(),this.isPressUpDown=!0},nextLine:function(){this.curLine++,this.curLine>=this.lineNum&&(this.curLine=this.lineNum-1),$(".tip-line").removeClass("now"),$(".tip-line").eq(this.curLine).addClass("now"),this.autoScroll(),this.isPressUpDown=!0},autoScroll:function(){this.curLine<0||($(".tip-line").removeClass("now"),$(".tip-line").eq(this.curLine).addClass("now"),$(".tips").scrollTop(this.curLine*this.lineScrollHeight+2))},getCurPosition:function(){var e=0;if(document.selection)this.codeTextArea.focus({preventScroll:!0}),document.selection.createRange().moveStart("character",-this.codeTextArea.value.length);else if((this.codeTextArea.selectionStart||"0"==this.codeTextArea.selectionStart)&&(this.codeTextArea.focus({preventScroll:!0}),e=this.codeTextArea.selectionStart,this.codeTextArea.selectionStart!=this.codeTextArea.selectionEnd))return!1;return e},setLablePosition:function(e){setTimeout(()=>{Main.codeTextArea.selectionStart=e,Main.codeTextArea.selectionEnd=e,document.querySelector("#code").setSelectionRange(e,e)},1)},showTip:function(e,t,i){i=i||"",this.showTipList(tipMap,i)?(e+=25,t+=8,$(".tips").css({top:e+"px",left:t+"px"}),!1===(t=this.getCurPosition())?t=-1:t--,Main.labelPos=t,this.isShowTip=!0,Tip.setCurLineOpen(),this.autoScroll()):this.hideTip()},hideTip:function(){$(".tips").css({top:"-1000px",left:"-1000px"}),Main.labelPos=-1,this.isShowTip=!1,Tip.setCurLineClose(),this.autoScroll()},insertSelectedContent:function(){$(".tips .now").attr("searchWord").trim();for(var e,t=$(".tips .now").attr("word").trim(),i=this.getCurrentLableNode(),r=parseInt($(".tips .now").attr("pos").trim()),n=this.getCurrentLabelNodeIndex(),o=0,a=n+1;a<Parse.nodeList.length;){var s=Parse.nodeList[a];if("blank"!=s.type)break;o+=s.end+1-s.start,a++}i&&"token"==i.type?this.replaceContent(t+" ",i.start,i.end+o+1):i&&"backslash"==i.type&&n<Parse.nodeList.length&&(e=Parse.nodeList[n+1])&&"token"==e.type?this.replaceContent(t,e.start,e.end+1):this.insertContent(t+" "),r&&(t=this.getCurPosition(),this.setLablePosition(t+r))},insertContent:function(e){var t=this.getCurPosition();this.codeTextArea.focus({preventScroll:!0}),this.codeTextArea.setRangeText(e,t,t,"end"),Main.onChange()},replaceContent:function(e,t,i){this.codeTextArea.focus({preventScroll:!0}),this.codeTextArea.setRangeText(e,t,i,"end"),Main.onChange()}},Main={isInit:!1,isShowTip:!1,labelPos:-1,codeTextArea:null,init:function(){var t;1!=this.isInit&&(t=this,Parse.init(),DoList.init(),Tip.init(),this.codeTextArea=document.getElementById("code"),$("body").on("click",function(){$(".saveimg").hide()}),$("#code").on("input",function(e){DoList.clearUnDolist(),t.onChange(e)}),$("#code").scroll(function(e){$("#show-content").scrollTop($("#code").scrollTop()),$("#show-content").scrollLeft($("#code").scrollLeft())}),$("#code").on("keydown",function(e){if(e.ctrlKey&&90==e.keyCode){var t=DoList.popDoList();return Main.codeTextArea.value=t.content,Main.onChange(),Tip.setLablePosition(t.labelPos),e.returnValue=!1,void e.preventDefault()}if(e.ctrlKey&&89==e.keyCode){if(0==(t=DoList.popUndoList()))return e.returnValue=!1,void e.preventDefault();Main.codeTextArea.value=t.content,Main.onChange(),Tip.setLablePosition(t.labelPos),e.returnValue=!1,e.preventDefault()}}),$(".save-as").on("click",function(e){$(".saveimg").toggle(),e.stopPropagation()}),$(".save-as-png").on("click",function(e){t.exportPNG()}),$(".save-as-jpg").on("click",function(e){t.exportJPG()}),$("#font-size").on("change",function(){var e=parseInt($(this).val());isNaN(e)||(e<=12&&(e=12),999<=e&&(e=999),$("#show").css("fontSize",e+"px"))}),$(".size-add").on("click",function(){var e=parseInt($("#font-size").val());isNaN(e)&&(e=30),(e+=1)<=12&&(e=12),999<=e&&(e=999),$("#font-size").val(e).change()}),$(".size-minus").on("click",function(){var e=parseInt($("#font-size").val());isNaN(e)&&(e=30),--e<=12&&(e=12),999<=e&&(e=999),$("#font-size").val(e).change()}),$(".catagory t").on("click",function(){var e=$(this).attr("code")+" ",t=parseInt($(this).attr("pos"));if($(this).attr("begin")){var i=$(this).attr("begin"),r=$(this).attr("end"),n=parseInt($(".array_row").val()),o=parseInt($(".array_col").val());(isNaN(n)||n<1)&&(n=2),(isNaN(o)||o<1)&&(o=2);for(var a="",s=0;s<n;s++){for(var l=0;l<o;l++)a+="  ",l!=o-1&&(a+="&");s!=n-1&&(a+=" \\\\ "),a+="\n"}t=r.length+a.length,e=i+"\n"+a+r}Tip.insertContent(e),t&&(e=Tip.getCurPosition(),Tip.setLablePosition(e-t))}),$(".type-box").on("click",function(){var e=parseInt($(this).attr("top"));null==e||isNaN(e)||$(".help-content").animate({scrollTop:e+"px"},300)}),$(".help-content").on("scroll",function(){console.log($(this).scrollTop())}),$(".line-mode").on("click",function(){var e=$(this).attr("mode").trim(),t=$("#code").val();"eqnarray"==e?(t="\\begin{eqnarray}\n"+t+"\n\\end{eqnarray}",$("#code").val(t),Main.onChange()):"align"==e?(t="\\begin{align}\n"+t+"\n\\end{align}",$("#code").val(t),Main.onChange()):"array"==e&&(t="\\begin{array}{c}\n"+t+"\n\\end{array}",$("#code").val(t),Main.onChange())}),$("#code").focus(),Tip.insertContent("e^{i \\pi }+1 = 0"),this.isInit=!0)},checkSameTip:function(){for(var e={},t="",i=0;i<tipMap.length;i++){var r=tipMap[i][0]+"_"+tipMap[i][1];e[r]?t+=tipMap[i][0]+" "+tipMap[i][1]+"\r\n":e[r]=!0}console.log(t)},onChange:function(e){var t=(t=$("#code").val()).replaceAll("\t","    ");if($("#code").val(t),"\\"!=t.trim())try{$("#show .show-content").text("$$"+t+"$$"),MathJax.typeset(["#show"])}catch(e){console.error(e)}var i=Tip.getCurPosition();DoList.pushDoList(t,i),t=t.replace("\r",""),t=Parse.parse(t),$("#show-content").empty().append(t)},insertTab:function(e){var t,i=e.selectionStart,r=e.selectionEnd;i&&(r=(t=e.value).substring(0,i)+"    "+t.substring(r),e.value=r,e.selectionStart=i+4,e.selectionEnd=i+4)},exportPNG:async function(){var e=document.querySelector("#show .show-content");console.log(e),domtoimage.toPng(e).then(function(e){var t=document.createElement("a");t.download="image-name.png",t.href=e,t.click()}).catch(function(e){console.error("oops, something went wrong!",e)})},exportJPG:async function(){var e=document.querySelector("#show .show-content");domtoimage.toJpeg(e,{quality:1,bgcolor:"#ffffff"}).then(function(e){var t=document.createElement("a");t.download="image-name.png",t.href=e,t.click()}).catch(function(e){console.error("oops, something went wrong!",e)})}};